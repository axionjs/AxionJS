{
  "$schema": "http://localhost:3001/schema/registry-item.json",
  "name": "role-gate",
  "type": "registry:auth",
  "author": "axionjs (https://www.axionjs.com)",
  "description": "Gate for checking user roles.",
  "files": [
    {
      "path": "auth/components/role-gate.tsx",
      "content": "import { currentRole } from \"@/registry/default/auth/lib/get-user\";\r\nimport { UserRole } from \"@prisma/client\";\r\nimport { FormError } from \"@/registry/default/auth/components/form-error\";\r\n\r\ninterface RoleGateProps {\r\n  children: React.ReactNode;\r\n  allowedRole: UserRole;\r\n}\r\n\r\nexport async function RoleGate({ children, allowedRole }: RoleGateProps) {\r\n  const role = await currentRole();\r\n\r\n  if (role !== allowedRole) {\r\n    return (\r\n      <FormError message=\"You do not have permission to view this content!\" />\r\n    );\r\n  }\r\n  return <>{children}</>;\r\n}\r\n",
      "type": "registry:auth_comp",
      "target": ""
    }
  ]
}